SELECT *
FROM `STORAGE`
JOIN `ADDRESS` `STORAGE_ADDRESS` ON `STORAGE`.`ADDRESS_ID` = `STORAGE_ADDRESS`.`ADDRESS_ID`
JOIN `EMPLOYEE` `STORAGE_EMPLOYEE` ON `STORAGE`.`MANAGER_ID` = `STORAGE_EMPLOYEE`.`EMPLOYEE_ID`
JOIN `USER` `STORAGE_EMPLOYEE_USER` ON `STORAGE_EMPLOYEE`.`USER_ID` = `STORAGE_EMPLOYEE_USER`.`USER_ID`
WHERE `STORAGE`.`STORAGE_ID` IN (
    SELECT `STORAGE`.`STORAGE_ID`
    FROM `STORAGE`
    JOIN `PRODUCT_IN_STORAGE` ON `STORAGE`.`STORAGE_ID` = `PRODUCT_IN_STORAGE`.`STORAGE_ID`
    GROUP BY `STORAGE`.`STORAGE_ID`
    HAVING `STORAGE`.`CAPACITY` < SUM(`PRODUCT_IN_STORAGE`.`QUANTITY`) + 100);