SELECT *
FROM `PRODUCT_BATCH`
JOIN `PRODUCT` `PRODUCT_BATCH_PRODUCT` ON `PRODUCT_BATCH`.`PRODUCT_ID` = `PRODUCT_BATCH_PRODUCT`.`PRODUCT_ID`
JOIN `MAKER` `PRODUCT_BATCH_PRODUCT_MAKER` ON `PRODUCT_BATCH_PRODUCT`.`MAKER_ID` = `PRODUCT_BATCH_PRODUCT_MAKER`.`MAKER_ID`
JOIN `ADDRESS` `PRODUCT_BATCH_PRODUCT_MAKER_ADDRESS` ON `PRODUCT_BATCH_PRODUCT_MAKER`.`ADDRESS_ID` = `PRODUCT_BATCH_PRODUCT_MAKER_ADDRESS`.`ADDRESS_ID`
WHERE `PRODUCT_BATCH_PRODUCT`.`PRODUCT_ID` = ?
AND `PRODUCT_BATCH`.`DISCOUNT` != 0
AND `PRODUCT_BATCH`.`DISCOUNT` IS NOT NULL
AND `PRODUCT_BATCH`.`EAT_BY_DATE` >= DATE_ADD(CURRENT_DATE(), INTERVAL 4 DAY);